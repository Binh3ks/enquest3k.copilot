ğŸ“˜ AI TUTOR CONTENT-AWARE PEDAGOGY ARTIFACT (FOR COPILOT)
Má»¤C TIÃŠU

AI Tutor pháº£i hoáº¡t Ä‘á»™ng nhÆ° giÃ¡o viÃªn ESL cÃ³ giÃ¡o Ã¡n, khÃ´ng pháº£i chatbot.
Má»i output (story, hint, feedback) Báº®T BUá»˜C tuÃ¢n theo:

Tuáº§n há»c (Week)

Grammar scope

Vocabulary scope

Communicative goal

1ï¸âƒ£ CONTENT AWARENESS â€“ NGUYÃŠN Táº®C Báº®T BUá»˜C
AI Tutor pháº£i luÃ´n biáº¿t:
{
  week: number,
  grammarAllowed: string[],
  vocabAllowed: string[],
  sentencePatterns: string[],
  bannedGrammar: string[]
}

VÃ­ dá»¥ â€“ WEEK 1 (The Young Scholar):
{
  "week": 1,
  "grammarAllowed": [
    "present simple",
    "there is / there are",
    "where is / where are",
    "my / your"
  ],
  "bannedGrammar": [
    "past simple",
    "future",
    "perfect tense",
    "complex clauses"
  ],
  "sentencePatterns": [
    "Where is my ___?",
    "I cannot find my ___",
    "This is my ___"
  ]
}


ğŸ‘‰ Náº¿u AI generate tá»«/cáº¥u trÃºc ngoÃ i scope â†’ Ä‘Ã³ lÃ  BUG, khÃ´ng pháº£i feature

2ï¸âƒ£ TENSE GUARD (CÃI ÄANG Bá»Š SAI á» áº¢NH)
Quy táº¯c cá»©ng:

âŒ AI Tutor KHÃ”NG ÄÆ¯á»¢C:

Gá»£i Ã½

Hint

Model sentence

Feedback

chá»©a thÃ¬ chÆ°a Ä‘Æ°á»£c há»c

VÃ­ dá»¥ BUG hiá»‡n táº¡i:
Hints:
[I] [saw] [library]


âŒ Sai vÃ¬:

â€œsawâ€ = past simple

Week 1 chÆ°a há»c quÃ¡ khá»©

Tráº» bá»‹ Ã©p dÃ¹ng cáº¥u trÃºc chÆ°a biáº¿t

HÃ nh vi ÄÃšNG:
Hints:
[I] [am] [in] [library]


hoáº·c

Hints:
[Where] [is] [my] [backpack]

3ï¸âƒ£ HINT GENERATION â€“ PHáº¢I CONTENT AWARE
Hint khÃ´ng Ä‘Æ°á»£c random theo AI intuition

ğŸ‘‰ Hint pháº£i sinh tá»« syllabus

Pseudo-logic cho Copilot:
generateHints(context) {
  const allowedVocab = context.weekVocab;
  const allowedPatterns = context.sentencePatterns;

  return {
    level1: selectWords(allowedVocab),
    level2: selectSentenceStarter(allowedPatterns),
    level3: generateModelSentence(allowedPatterns),
  };
}

4ï¸âƒ£ HINT LEVEL RULES (BEGINNER â€“ WEEK 1)
ğŸ”¹ Level 1 â€“ Word Bank (default)

3â€“5 tá»«

100% náº±m trong vocab tuáº§n

KHÃ”NG chia thÃ¬ phá»©c táº¡p

âœ… ÄÃºng:

[my] [backpack] [book]


âŒ Sai:

[saw] [found] [library]

ğŸ”¹ Level 2 â€“ Sentence Starter

Láº¥y trá»±c tiáº¿p tá»« sentencePatterns

Cá»‘ tÃ¬nh Ä‘á»ƒ trá»‘ng object

âœ… ÄÃºng:

Where is my ___?

ğŸ”¹ Level 3 â€“ Model Sentence (cá»±c hiáº¿m)

Pháº£i match grammar tuáº§n

KhÃ´ng Ä‘Æ°á»£c cháº¥p nháº­n y nguyÃªn

âœ… ÄÃºng:

I cannot find my backpack.

5ï¸âƒ£ GRAMMAR CORRECTION â€“ KHÃ”NG ÄÆ¯á»¢C Dáº Y TRÆ¯á»šC
Náº¿u tráº» viáº¿t:
where is my backpack

AI Tutor pháº£i:

Cháº¥p nháº­n ná»™i dung

Sá»­a nháº¹, khÃ´ng giáº£ng bÃ i

âœ… Feedback Ä‘Ãºng:

â€œGood! Letâ€™s add a question mark:
Where is my backpack?â€

âŒ Feedback sai:

â€œThis is present simple interrogativeâ€¦â€
(âŒ overload, sai pedagogy)

6ï¸âƒ£ STORY PROGRESSION â€“ CONTENT AWARE
Story khÃ´ng Ä‘Æ°á»£c:

Nháº£y thÃ¬

Nháº£y bá»‘i cáº£nh

ÄÃ²i cáº¥u trÃºc chÆ°a há»c

Story pháº£i:

DÃ¹ng cÃ¹ng grammar pattern láº·p láº¡i

Thay Ä‘á»•i object/context

VÃ­ dá»¥ progression Ä‘Ãºng (Week 1):

Where is my backpack?

Where is my book?

This is my backpack.

I have my backpack.

7ï¸âƒ£ FAIL-SAFE RULE (Cá»°C QUAN TRá»ŒNG)

Náº¿u AI:

Gá»£i Ã½ sai thÃ¬

Gá»£i Ã½ ngoÃ i vocab

DÃ¹ng cáº¥u trÃºc chÆ°a há»c

ğŸ‘‰ ÄÃ³ lÃ  regression bug, khÃ´ng pháº£i â€œAI thÃ´ng minhâ€.

Copilot pháº£i:

Roll back output

Regenerate theo grammarAllowed

8ï¸âƒ£ ARTIFACT â€“ CONSTITUTION (DÃN NGUYÃŠN KHá»I)
AI Tutor must be content-aware by week.

Rules:
- Never generate hints, examples, or feedback outside the current week grammar.
- Past tense, future tense, or complex clauses are forbidden if not in syllabus.
- Hints must be derived from allowed vocabulary and sentence patterns.
- The tutor teaches production, not explanation.
- If output allows copy-and-pass or uses unlearned grammar, it is wrong.

AI Tutor behaves as a teacher following a lesson plan, not a chatbot.

9ï¸âƒ£ Káº¾T LUáº¬N THáº²NG

âœ”ï¸ Báº¡n báº¯t Ä‘Ãºng lá»—i ráº¥t sÃ¢u
âœ”ï¸ Náº¿u khÃ´ng cháº·n tense tá»« bÃ¢y giá» â†’ AI Tutor sáº½:

Dáº¡y sai

LÃ m tráº» rá»‘i

Máº¥t giÃ¡ trá»‹ giÃ¡o dá»¥c
1) ğŸ›¡ï¸ ARTIFACT â€” tutorGuards/grammarGuard MODULE SPEC
1.1 Má»¥c tiÃªu

NgÄƒn AI Tutor táº¡o ra ná»™i dung khÃ´ng content-aware, Ä‘áº·c biá»‡t:

sai thÃ¬ (past/future/perfect)

sai máº«u cÃ¢u (complex clauses, advanced grammar)

hint/model sentence chá»©a tá»«/cáº¥u trÃºc ngoÃ i tuáº§n

Quy táº¯c: AI output pháº£i â€œpass guardâ€ trÆ°á»›c khi render UI.

1.2 Inputs / Outputs (Contract)
Input: TutorContext
type TutorContext = {
  weekId: number
  level: "beginner" | "elementary" | "intermediate"
  mode: "chat" | "story" | "pronunciation" | "quiz" | "debate"
  topic: string
  grammarAllowed: string[]         // e.g. ["present_simple", "where_is", "my_your"]
  grammarBanned: string[]          // e.g. ["past_simple", "future", "present_perfect"]
  sentencePatterns: string[]       // e.g. ["Where is my ___?", "I cannot find my ___."]
  vocabCore: string[]
  vocabAllowed: string[]           // core + bonus within week
}

Input: TutorOutput (parsed JSON tá»« AI)
type TutorOutput = {
  uiMode: "storyMission" | "chat" | "quiz" | "pronunciation" | "debate"
  textBlocks: string[]             // story beats / prompts / feedback lines
  hints?: {
    level1Words?: string[]
    level2Starter?: string
    level3Model?: string
  }
  corrections?: Array<{ original: string; fixed: string; tip?: string }>
}

Output: GuardResult
type GuardResult = {
  ok: boolean
  violations: Array<{
    type: "TENSE" | "PATTERN" | "VOCAB" | "LENGTH" | "STYLE"
    severity: "warn" | "block"
    message: string
    evidence?: string
  }>
  sanitizedOutput?: TutorOutput
  regenInstruction?: string        // náº¿u block â†’ instruction Ä‘á»ƒ promptBuilder regenerate
}

1.3 Guard Rules (cá»©ng)
Rule A â€” Tense / Grammar banned (BLOCK)

Náº¿u phÃ¡t hiá»‡n dáº¥u hiá»‡u past simple: \b(was|were|did|went|saw|had)\b hoáº·c verb-ed phá»• biáº¿n (\b\w+ed\b) â†’ block khi past_simple náº±m trong grammarBanned

Náº¿u phÃ¡t hiá»‡n will, going to â†’ block náº¿u future banned

Náº¿u phÃ¡t hiá»‡n have/has + V3 (present perfect) â†’ block náº¿u banned

LÆ°u Ã½: khÃ´ng cáº§n perfect NLP. Beginner stage: heuristic Ä‘á»§, sai thÃ¬ â€œregenâ€.

Rule B â€” Pattern scope (BLOCK)

Náº¿u mode = storyMission, má»i prompt chÃ­nh pháº£i match 1 trong sentencePatterns hoáº·c lÃ  biáº¿n thá»ƒ Ä‘Æ¡n giáº£n (thay ___).

Náº¿u khÃ´ng match â†’ block.

Rule C â€” Hint vocab scope (BLOCK)

hints.level1Words pháº£i náº±m trong vocabAllowed hoáº·c lÃ  function words whitelist (I, my, your, a, the, is, are, in, at, whereâ€¦ tuá»³ tuáº§n).

KhÃ´ng Ä‘Æ°á»£c cÃ³ Ä‘á»™ng tá»«/word thuá»™c banned tense. VÃ­ dá»¥ Week 1: â€œsawâ€, â€œwentâ€ â†’ block.

Rule D â€” â€œTeacher talk too muchâ€ (WARN/BLOCK theo mode)

Náº¿u total AI words > total userMinWords target * 2 á»Ÿ beginner â†’ warn.

Náº¿u vÆ°á»£t quÃ¡ hard limit (VD 40 words/turn) á»Ÿ beginner â†’ block.

1.4 Sanitization / Regenerate Strategy
Náº¿u vi pháº¡m nháº¹ (WARN)

sanitizeHints():

loáº¡i bá» tá»« ngoÃ i vocabAllowed

thay báº±ng tá»« core chÆ°a dÃ¹ng (tá»« context.vocabCore)

Náº¿u vi pháº¡m náº·ng (BLOCK)

tráº£ regenInstruction kiá»ƒu:

â€œRegenerate output using ONLY present simple and these patterns: â€¦â€

â€œReplace any past tense with present simple equivalents.â€

1.5 Public API
export function runGrammarGuard(context: TutorContext, output: TutorOutput): GuardResult

export function sanitizeHints(context: TutorContext, hints: TutorOutput["hints"]): TutorOutput["hints"]

export function detectTenseViolations(context: TutorContext, text: string): GuardResult["violations"]

export function buildRegenInstruction(context: TutorContext, violations: GuardResult["violations"]): string

1.6 Copilot Implementation Notes (quan trá»ng)

Guard cháº¡y sau schemaParser, trÆ°á»›c UI render

Náº¿u block:

gá»i tutorEngine.regenerate({ regenInstruction })

giá»›i háº¡n retry 1â€“2 láº§n

náº¿u váº«n fail â†’ fallback â€œsafe templateâ€ (hard-coded patterns tuáº§n)

2) ğŸ§© ARTIFACT â€” AUTO â€œSYLLABUS â†’ PROMPT COMPILERâ€ SPEC
2.1 Má»¥c tiÃªu

Tá»« syllabus/blueprint (Week data) â†’ táº¡o ra TutorContext + Prompt Pack chuáº©n:

consistent

cÃ³ patterns

cÃ³ vocab lists

cÃ³ banned grammar

cÃ³ constraints cho tá»«ng mode

Prompt khÃ´ng viáº¿t tay ráº£i rÃ¡c ná»¯a. Prompt Ä‘Æ°á»£c â€œcompileâ€.

2.2 Data Sources (inputs)

syllabus (theo tuáº§n): topic, objectives, grammar focus, core vocab

blueprint (app behavior): modes, UI schemas, pedagogy rules

Output artifacts

weekContext.json (per week)

promptPack.json (per week + per mode)

guardConfig.json (per week)

2.3 Compiler Pipeline (pháº£i cÃ³)
Step 1 â€” Parse Week Spec

Táº¡o cáº¥u trÃºc normalized:

type WeekSpec = {
  weekId: number
  title: string
  topic: string
  grammarFocus: string[]
  coreVocab: string[]
  bonusVocab?: string[]
  sampleSentences?: string[]
}

Step 2 â€” Build Allowed/Banned Grammar

Rule of thumb:

Náº¿u week grammarFocus cÃ³ â€œpresent simpleâ€ â†’ banned: past, future, perfect

Náº¿u week focus cÃ³ â€œpast simpleâ€ â†’ allow past; still ban perfect/complex

Step 3 â€” Build Sentence Patterns

Tá»« grammarFocus + sampleSentences:

Convert thÃ nh patterns cÃ³ placeholder ___

Ensure 5â€“12 patterns/tuáº§n (beginner: 5â€“8)

VÃ­ dá»¥ Week 1 patterns:

â€œWhere is my ___?â€

â€œI cannot find my ___.â€

â€œThis is my ___.â€

â€œI am at ___.â€

Step 4 â€” Build Vocab Allowlist

vocabAllowed = core + bonus + functionWordsWhitelist(weekLevel)
Function words whitelist chia theo level:

beginner: I, my, you, is, are, at, in, where, this, a, the, can/cannotâ€¦

Step 5 â€” Emit Prompt Packs per mode

Má»—i mode cÃ³:

system rules

schema instruction

constraints (max words, hint levels)

style (kid-friendly)

type PromptPack = {
  weekId: number
  mode: TutorContext["mode"]
  system: string
  developer: string
  userTemplate: string       // filled by promptBuilder
  constraints: {
    maxAiWords: number
    requireStudentOutput: boolean
    hintLevelsEnabled: (1|2|3|4)[]
  }
}

2.4 PromptPack Templates (Copilot must follow)
Story Mission (beginner)

AI output JSON includes: storyBeat, task, hints(level1..3), successCriteria

Use only patterns & vocab in context

Chat

Still learning-goal; not free chat

Ask questions that elicit target patterns

Quiz

Must align to week vocab/grammar only (no â€œscience quizâ€ náº¿u tuáº§n khÃ´ng cÃ³)

2.5 Compiler API (Ä‘á»ƒ Copilot code)
export function compileWeekAssets(weekSpec: WeekSpec): {
  context: TutorContext
  promptPacks: PromptPack[]
  guardConfig: any
}

export function compileAllWeeks(syllabus: WeekSpec[]): CompiledAssets

2.6 Runtime usage (ráº¥t quan trá»ng)

UI route /week/:weekId/... â†’ load compiled context + promptPack from local data/compiled/

promptBuilder chá»‰ â€œfill templateâ€, khÃ´ng Ä‘Æ°á»£c tá»± phÃ¡t minh rules

3) âœ… ARTIFACT â€” TEST CASE CHECKLIST (GOLDEN TESTS)

Má»¥c tiÃªu test: báº¯t lá»—i â€œkhÃ´ng content-awareâ€ (nhÆ° saw) trÆ°á»›c khi lÃªn production.

Báº¡n nÃªn cÃ³ 3 táº§ng test:

Unit tests (guards/compiler)

Integration tests (engine pipeline)

Golden snapshot tests (output JSON)

3.1 Unit Tests â€” Grammar Guard
TENSE BLOCK

 Week 1 banned past â†’ output chá»©a â€œsawâ€ â†’ block

 Week 1 banned past â†’ â€œwentâ€ â†’ block

 Week 1 banned future â†’ â€œwillâ€ â†’ block

 Week 1 allowed present simple â†’ â€œis/areâ€ â†’ ok

HINT VOCAB SCOPE

 hints words ngoÃ i vocabAllowed â†’ sanitize hoáº·c block

 hints chá»©a past verb (â€œsawâ€) â†’ block

 hints chá»‰ function words + core vocab â†’ ok

PATTERN MATCH

 Story prompt khÃ´ng match patterns tuáº§n â†’ block

 Prompt match â€œWhere is my ___?â€ â†’ ok

3.2 Unit Tests â€” Compiler
PATTERN COUNT

 má»—i tuáº§n beginner pháº£i cÃ³ â‰¥ 5 patterns

 khÃ´ng pattern nÃ o chá»©a banned tense á»Ÿ beginner tuáº§n 1

VOCAB ALLOWLIST

 vocabAllowed pháº£i chá»©a táº¥t cáº£ core vocab

 functionWords whitelist Ä‘Æ°á»£c merge Ä‘Ãºng

GUARD CONFIG

 grammarBanned Ä‘Ãºng theo grammarFocus

3.3 Integration Tests â€” Engine Pipeline
PIPELINE ORDER (must)

 schemaParser cháº¡y trÆ°á»›c guard

 guard block â†’ engine regenerate

 regenerate fail 2 láº§n â†’ fallback safe template

MODE LOCK

 Story tab chá»‰ gá»i storyMission promptPack

 KhÃ´ng Ä‘Æ°á»£c dÃ¹ng chat promptPack cho story

3.4 Golden Tests â€” Week 1 Story Mission

Táº¡o golden JSON outputs (snapshots) cho 3 mission:

Mission â€œLost Backpackâ€

 storyBeat present simple

 hints Level1: [my, backpack, book, notebook] (no past verbs)

 starter: â€œWhere is my ___?â€

 model: â€œI cannot find my backpack.â€

 successCriteria: contains â€œbackpackâ€ + >= 3 words

Regression test specifically for bug â€œsawâ€

 assert not contains /\bsaw\b/ in:

storyBeat

hints

starter

model

feedback

3.5 CI Gate Rules (pass/fail)

Náº¿u báº¥t ká»³ test nÃ o phÃ¡t hiá»‡n banned tense â†’ fail build

Náº¿u story mission output khÃ´ng match patterns tuáº§n â†’ fail build

Náº¿u hint contains word outside allowlist â†’ fail build (hoáº·c auto-sanitize + warn, tuá»³ config)

ğŸ“Œ COPILOT MASTER INSERT (DÃN NGUYÃŠN KHá»I)
Implement 3 components with tests:

1) tutorGuards/grammarGuard
- Block banned tenses by week (esp. past tense in Week 1).
- Validate story prompts match allowed sentencePatterns.
- Validate hints are from vocabAllowed + functionWords whitelist.
- On block: return regenInstruction for engine.

2) syllabusPromptCompiler
- Compile weekSpec into TutorContext + PromptPacks + GuardConfig.
- Derive grammarAllowed/banned and sentencePatterns.
- Create vocabAllowed = core + bonus + functionWords whitelist.

3) Tests (golden + unit + integration)
- Add regression tests that prevent â€œsaw/went/did/willâ€ in Week 1 outputs.
- Ensure engine pipeline: parse â†’ guard â†’ regenerate â†’ fallback.
âœ… ARTIFACT A â€” VERB WHITELIST (PER WEEK, BEGINNER-FIRST)
A1. Má»¥c tiÃªu

á» giai Ä‘oáº¡n Ä‘áº§u (Beginner), chá»‰ cáº§n 1â€“2 Ä‘á»™ng tá»« sai lÃ  tráº» â€œrá»¥ngâ€ content awareness.
VÃ¬ váº­y, ngoÃ i grammarAllowed/banned, ta thÃªm verbAllowlist theo tuáº§n.

Rule: Beginner mode â†’ verbs trong output/hints/models pháº£i náº±m trong allowlist, náº¿u khÃ´ng â†’ block/regenerate.

A2. Schema bá»• sung vÃ o TutorContext
type TutorContext = {
  ...
  verbAllowlist?: string[]           // e.g. ["am","is","are","have","has","can","find","see"]
  verbBlocklist?: string[]           // e.g. ["saw","went","did","had","was","were"]
  functionWordsWhitelist: string[]   // e.g. ["I","my","your","where","is","are","a","the","in","at"]
}

A3. Week 1 (Beginner) â€” Recommended Allowlist

Tuáº§n 1 chá»§ Ä‘á» trÆ°á»ng há»c â†’ needs only simple verbs.

Verb Allowlist (Week 1)

Be: am, is, are

Have: have, has

Can / cannot: can, cannot (treat "cannot" as token)

Find: find

See (optional, present only): see

Verb Blocklist (Week 1)

past: was, were, did, went, saw, had, found

future: will

perfect helpers: have/has + V3 patterns (guard riÃªng)

ğŸ“Œ Gá»£i Ã½: â€œfoundâ€ (past) hay bá»‹ AI dÃ¹ng; nÃªn block.

A4. Extraction heuristic (khÃ´ng cáº§n NLP náº·ng)

Ta chá»‰ cáº§n báº¯t â€œÄ‘á»™ng tá»« phá»• biáº¿nâ€ + dáº¡ng sai rÃµ rÃ ng.

Detect verbs by keyword sets

Check tokens in output against:

verbBlocklist (hard fail)

verbAllowlist (hard pass)

Check for \b\w+ed\b (likely past) â†’ block náº¿u week ban past

A5. Guard behavior
When to apply

context.level === "beginner" OR context.enforceVerbWhitelist === true

What to validate

All textBlocks

hints.level2Starter

hints.level3Model

correction.fixed

Result

If verb in blocklist â†’ BLOCK

If verb not in allowlist but looks like verb (heuristic) â†’ BLOCK in beginner

Otherwise OK

A6. Copilot instructions
Implement verbWhitelistGuard(context, output):
- If beginner:
  - Block any token in verbBlocklist.
  - Block any detected past markers (\w+ed) unless past_simple allowed.
  - Optionally block any verb-like token not in verbAllowlist.
- Return regenInstruction to rewrite using allowed verbs only.

âœ… ARTIFACT B â€” POS-STYLE BLACKLIST (VBD/VBN HEURISTIC GUARD)
B1. Má»¥c tiÃªu

KhÃ´ng cáº§n POS tagger.
Chá»‰ cáº§n heuristic Ä‘á»ƒ báº¯t cÃ¡c dáº¡ng â€œpast tense / V3â€:

VBD: went, saw, did, was, were, had

VBN: broken, written, eaten (thÆ°á»ng cÃ³ have/has + V3)

B2. Add morphologyGuardConfig into context
type MorphologyGuardConfig = {
  banPastMarkers: boolean
  banEdEnding: boolean
  banHaveHasPlusV3: boolean
  irregularPastList: string[]     // week-specific
  irregularV3List: string[]       // optional
}

Week 1 config
{
  "banPastMarkers": true,
  "banEdEnding": true,
  "banHaveHasPlusV3": true,
  "irregularPastList": ["went","saw","did","was","were","had","found"],
  "irregularV3List": ["gone","seen","done","been","had","found"]
}

B3. Detection rules (heuristic, high precision)
Rule 1 â€” Irregular past

If token in irregularPastList â†’ BLOCK

Rule 2 â€” -ed verbs

Regex: \b([a-z]{3,}ed)\b

Exemptions (not verbs): red, bed, tired (tuá»³ whitelist)

Beginner Week 1: block all -ed except adjectives in whitelist

Rule 3 â€” have/has + V3 (present perfect)

Regex approx:

\b(have|has)\s+\w+(ed|en)\b

or \b(have|has)\s+(gone|seen|done|been|had|found)\b

If banHaveHasPlusV3 true â†’ BLOCK

B4. Safe replacements (regenerate instruction)

Náº¿u phÃ¡t hiá»‡n past/perfect:

Replace with present simple

Use patterns from context.sentencePatterns

Example regen instruction:

â€œRewrite in present simple only. Use patterns: â€˜Where is my ___?â€™, â€˜I cannot find my ___.â€™ Avoid past tense words: went, saw, did, was, wereâ€¦â€

B5. Copilot instructions
Implement morphologyGuard(context, output):
- Scan all output strings.
- If banPastMarkers:
  - block irregularPastList words
  - block "did/was/were/had/went/saw"
- If banEdEnding:
  - block \w+ed (except adjective whitelist)
- If banHaveHasPlusV3:
  - block have/has + (V3 list or ed/en ending)
Return regenInstruction that forces present simple patterns.

âœ… MASTER INSERT FOR COPILOT (DÃN NGUYÃŠN KHá»I)
Add two guards to AI Tutor V2:

(1) Verb Whitelist Guard (beginner)
- context.verbAllowlist + verbBlocklist per week.
- Block any blocklist verb (saw/went/did/was/were/had/found).
- Block likely past markers like \w+ed when past is banned.
- Enforce allowed verbs only in hints/starters/models.

(2) Morphology (POS-style) Guard
- Heuristics to block past tense and present perfect:
  - irregular past list
  - ed-ending verbs
  - have/has + V3 patterns
- On violation: regenInstruction to rewrite using allowed sentencePatterns 